<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thrift The Future | Premium Prototype</title>
    <style>
        /* --- 1. RESET & VARIABLES --- */
        :root {
            --primary: #111;
            --inverse: #fff;
            --accent: #c9a227; /* Gold */
            --bg-body: #f8f8f8;
            --bg-card: #fff;
            --bg-nav: #fff;
            --text-main: #222;
            --text-sub: #666;
            --border: #e0e0e0;
            --shadow: 0 4px 12px rgba(0,0,0,0.05);
            --font-main: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            --font-serif: 'Playfair Display', 'Georgia', serif;
        }

        body.dark-mode {
            --primary: #fff;
            --inverse: #121212;
            --accent: #d4af37;
            --bg-body: #0f0f0f;
            --bg-card: #1a1a1a;
            --bg-nav: #141414;
            --text-main: #e0e0e0;
            --text-sub: #a0a0a0;
            --border: #333;
            --shadow: 0 4px 20px rgba(0,0,0,0.4);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: var(--font-main); }
        body { background: var(--bg-body); color: var(--text-main); overflow-x: hidden; display: flex; flex-direction: column; min-height: 100vh; transition: 0.3s; }
        a { text-decoration: none; color: inherit; transition: 0.3s; cursor: pointer; }
        ul { list-style: none; }
        img { width: 100%; height: 100%; object-fit: cover; display: block; }
        button { cursor: pointer; border: none; outline: none; }

        /* --- 2. GLOBAL STYLES --- */
        .btn { padding: 14px 30px; background: var(--primary); color: var(--inverse); font-weight: bold; text-transform: uppercase; letter-spacing: 1px; transition: 0.3s; }
        .btn:hover { background: var(--accent); color: #000; transform: translateY(-2px); }
        
        .container { padding: 40px 5%; max-width: 1400px; margin: 0 auto; }
        .section-title { text-align: center; margin-bottom: 40px; font-family: var(--font-serif); font-size: 2.5rem; color: var(--primary); }
        
        /* Fade Animation */
        .page { display: none; opacity: 0; transition: opacity 0.5s ease; }
        .page.active { display: block; opacity: 1; }

        /* --- 3. WATERMARK OVERLAY --- */
        .watermark-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 9999; pointer-events: none; opacity: 0.04;
            display: flex; flex-wrap: wrap; overflow: hidden;
            transform: rotate(-30deg) scale(1.5);
        }
        .watermark-text {
            font-size: 4rem; font-weight: 900; text-transform: uppercase;
            color: #000; margin: 50px; white-space: nowrap;
        }
        body.dark-mode .watermark-text { color: #fff; }

        /* --- 4. NAV & HEADER --- */
        .notification-bar { background: var(--primary); color: var(--inverse); text-align: center; padding: 10px; font-size: 0.75rem; font-weight: bold; letter-spacing: 1px; }
        nav { display: flex; justify-content: space-between; align-items: center; padding: 15px 5%; background: var(--bg-nav); position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid var(--border); }
        
        .brand-logo { font-family: var(--font-serif); font-size: 1.8rem; font-weight: 900; text-transform: uppercase; border: 2px solid var(--primary); padding: 5px 15px; color: var(--primary); }
        .brand-logo span { color: var(--accent); font-style: italic; }
        
        .nav-links { display: flex; gap: 30px; }
        .nav-links li a { font-weight: 600; font-size: 0.9rem; text-transform: uppercase; }
        .nav-links li a:hover { color: var(--accent); }
        
        .nav-icons { display: flex; gap: 20px; align-items: center; }
        .icon-btn { background: none; font-size: 1.3rem; color: var(--primary); position: relative; }
        .cart-count { position: absolute; top: -5px; right: -8px; background: var(--accent); color: #000; font-size: 0.7rem; width: 18px; height: 18px; border-radius: 50%; font-weight: bold; display: flex; align-items: center; justify-content: center; }

        /* --- 5. GRID & CARDS --- */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 25px; }
        .card { 
            background: var(--bg-card); cursor: pointer; transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            border: 1px solid transparent; opacity: 0; animation: fadeUp 0.6s forwards;
        }
        .card:hover { transform: translateY(-8px); box-shadow: var(--shadow); border-color: var(--border); }
        
        @keyframes fadeUp { to { opacity: 1; } }

        .card-img { height: 320px; overflow: hidden; background: #eee; position: relative; }
        .card:hover .card-img img { transform: scale(1.08); transition: 0.6s ease; }
        
        .card-info { padding: 15px; text-align: center; }
        .card-title { font-size: 0.95rem; margin-bottom: 5px; color: var(--text-main); font-weight: 600; }
        .card-price { color: var(--accent); font-weight: bold; }

        /* --- 6. PAGINATION --- */
        .pagination { display: flex; justify-content: center; gap: 10px; margin-top: 50px; }
        .page-btn {
            width: 40px; height: 40px; border: 1px solid var(--border); background: var(--bg-card);
            color: var(--text-main); display: flex; align-items: center; justify-content: center;
            font-weight: bold; transition: 0.3s;
        }
        .page-btn:hover { border-color: var(--accent); color: var(--accent); }
        .page-btn.active { background: var(--primary); color: var(--inverse); border-color: var(--primary); }
        .page-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        /* --- 7. PRODUCT DETAIL PAGE --- */
        .pdp-container { display: flex; gap: 50px; margin-top: 20px; }
        .pdp-image { flex: 1; height: 600px; background: #eee; overflow: hidden; border-radius: 8px; }
        .pdp-details { flex: 1; padding: 10px; }
        
        .breadcrumb { font-size: 0.9rem; color: var(--text-sub); margin-bottom: 20px; }
        .breadcrumb span { cursor: pointer; }
        .breadcrumb span:hover { color: var(--accent); }
        
        .pdp-title { font-family: var(--font-serif); font-size: 2.5rem; margin-bottom: 10px; line-height: 1.2; }
        .pdp-price { font-size: 1.5rem; color: var(--accent); font-weight: bold; margin-bottom: 20px; }
        .pdp-desc { line-height: 1.6; color: var(--text-sub); margin-bottom: 30px; }
        
        .option-group { margin-bottom: 25px; }
        .option-label { display: block; font-weight: bold; margin-bottom: 10px; font-size: 0.9rem; text-transform: uppercase; }
        
        .size-selector { display: flex; gap: 10px; flex-wrap: wrap; }
        .size-box { 
            width: 50px; height: 40px; border: 1px solid var(--border); display: flex; align-items: center; justify-content: center; 
            cursor: pointer; font-size: 0.85rem; transition: 0.2s; background: var(--bg-card);
        }
        .size-box:hover { border-color: var(--primary); }
        .size-box.selected { background: var(--primary); color: var(--inverse); border-color: var(--primary); }
        
        .qty-selector { display: flex; align-items: center; border: 1px solid var(--border); width: 120px; height: 45px; background: var(--bg-card); }
        .qty-btn { width: 40px; height: 100%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.2rem; }
        .qty-input { flex: 1; text-align: center; border: none; background: transparent; font-weight: bold; color: var(--text-main); }

        /* --- 8. CART & CHECKOUT --- */
        .cart-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; display: none; }
        .cart-sidebar { position: fixed; top: 0; right: 0; width: 100%; max-width: 400px; height: 100%; background: var(--bg-card); z-index: 2001; transform: translateX(100%); transition: 0.4s; display: flex; flex-direction: column; }
        .cart-active .cart-overlay { display: block; }
        .cart-active .cart-sidebar { transform: translateX(0); }
        .cart-list { flex: 1; overflow-y: auto; padding: 20px; }
        .cart-item { display: flex; gap: 15px; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid var(--border); }
        .cart-item img { width: 70px; height: 90px; }

        .payment-methods { display: flex; gap: 15px; margin-top: 10px; flex-wrap: wrap; }
        .pay-card { 
            border: 1px solid var(--border); padding: 15px; border-radius: 6px; cursor: pointer; 
            flex: 1; min-width: 120px; text-align: center; transition: 0.2s; background: var(--bg-card);
        }
        .pay-card:hover, .pay-card.selected { border-color: var(--accent); background: rgba(201, 162, 39, 0.05); }

        /* --- 9. PAY OVERLAY --- */
        .pay-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 3000; display: none;
            flex-direction: column; align-items: center; justify-content: center; color: white;
        }
        .spinner {
            width: 60px; height: 60px; border: 5px solid rgba(255,255,255,0.3);
            border-top-color: var(--accent); border-radius: 50%;
            animation: spin 1s linear infinite; margin-bottom: 20px;
        }
        .success-icon { font-size: 5rem; color: #4cd137; display: none; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes popIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        @media(max-width: 768px) {
            .pdp-container { flex-direction: column; gap: 20px; }
            .pdp-image { height: 400px; }
            .nav-links { display: none; }
        }
    </style>
</head>
<body>

    <div class="watermark-overlay" id="watermarkContainer">
        </div>

    <div class="notification-bar">Free Shipping Over ‚Çπ999 | Code: KUNAL10</div>

    <nav>
        <div class="brand-logo" onclick="showPage('home')">Thrift <span>The</span> Future</div>
        <ul class="nav-links">
            <li><a onclick="showPage('home')">Home</a></li>
            <li><a onclick="showPage('shop')">Shop</a></li>
            <li><a onclick="showPage('about')">About</a></li>
            <li><a onclick="showPage('contact')">Contact</a></li>
        </ul>
        <div class="nav-icons">
            <button class="icon-btn" onclick="toggleTheme()">‚óê</button>
            <button class="icon-btn" onclick="toggleCart()">
                üõí<div class="cart-count" id="count">0</div>
            </button>
        </div>
    </nav>

    <div class="cart-overlay" onclick="toggleCart()"></div>
    <div class="cart-sidebar">
        <div style="padding: 20px; border-bottom: 1px solid var(--border); display:flex; justify-content:space-between;">
            <h3>Your Bag</h3><span onclick="toggleCart()" style="cursor:pointer; font-size:1.5rem;">&times;</span>
        </div>
        <div class="cart-list" id="cart-list"></div>
        <div style="padding: 20px; background: var(--bg-nav); border-top: 1px solid var(--border);">
            <div style="display:flex; justify-content:space-between; margin-bottom:15px; font-weight:bold; font-size:1.2rem;">
                <span>Total</span><span id="cart-total">‚Çπ0</span>
            </div>
            <button class="btn" style="width:100%;" onclick="goCheckout()">Checkout Now</button>
        </div>
    </div>

    <div class="pay-overlay" id="payOverlay">
        <div class="spinner" id="paySpinner"></div>
        <div class="success-icon" id="paySuccess">‚úî</div>
        <h2 id="payText">Processing Payment...</h2>
    </div>

    <div id="home" class="page active">
        <header style="height: 70vh; background: #000; position:relative; display:flex; align-items:center; justify-content:center; text-align:center; color:white;">
            <div style="position:absolute; inset:0; background:url('https://images.unsplash.com/photo-1483985988355-763728e1935b?q=80&w=2070') center/cover; opacity:0.6;"></div>
            <div style="z-index:2; max-width:800px; padding:20px;">
                <h1 style="font-family:var(--font-serif); font-size:3.5rem; margin-bottom:20px;">Thrift The Future</h1>
                <p style="font-size:1.2rem; margin-bottom:30px;">Premium Vintage & Sustainable Fashion</p>
                <button class="btn" onclick="showPage('shop')">Explore Collection</button>
            </div>
        </header>
        <div class="container">
            <h2 class="section-title">New Arrivals</h2>
            <div class="grid" id="home-grid"></div>
        </div>
    </div>

    <div id="shop" class="page">
        <div class="container">
            <h2 class="section-title">Full Catalog</h2>
            <div class="grid" id="shop-grid"></div>
            <div class="pagination" id="pagination-controls"></div>
        </div>
    </div>

    <div id="product-page" class="page">
        <div class="container">
            <div class="breadcrumb">
                <span onclick="showPage('home')">Home</span> > <span onclick="showPage('shop')">Shop</span> > <span id="pdp-crumb-title">Product</span>
            </div>
            
            <div class="pdp-container">
                <div class="pdp-image">
                    <img id="pdp-img" src="" alt="Product Image">
                </div>
                <div class="pdp-details">
                    <h1 class="pdp-title" id="pdp-title">Product Title</h1>
                    <div class="pdp-price" id="pdp-price">‚Çπ0</div>
                    <p class="pdp-desc" id="pdp-desc">Description goes here.</p>

                    <div class="option-group">
                        <label class="option-label">Select Size</label>
                        <div class="size-selector" id="size-container">
                            <div class="size-box" onclick="selectSize(this)">XS</div>
                            <div class="size-box" onclick="selectSize(this)">S</div>
                            <div class="size-box selected" onclick="selectSize(this)">M</div>
                            <div class="size-box" onclick="selectSize(this)">L</div>
                            <div class="size-box" onclick="selectSize(this)">XL</div>
                        </div>
                    </div>

                    <div class="option-group">
                        <label class="option-label">Quantity</label>
                        <div class="qty-selector">
                            <div class="qty-btn" onclick="qtyChange(-1)">-</div>
                            <div class="qty-input" id="pdp-qty">1</div>
                            <div class="qty-btn" onclick="qtyChange(1)">+</div>
                        </div>
                    </div>

                    <button class="btn" style="width:100%; padding: 20px; font-size:1.1rem;" onclick="addToCartFromPDP()">Add To Bag</button>
                    
                    <div style="margin-top:20px; font-size:0.8rem; color:var(--text-sub); display:flex; gap:20px;">
                        <span>üöö Free Delivery</span><span>‚Ü∫ 7 Day Returns</span><span>üõ°Ô∏è Secure Checkout</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="checkout" class="page">
        <div class="container" style="max-width:800px;">
            <h2 class="section-title">Secure Checkout</h2>
            <div style="background:var(--bg-card); padding:30px; border:1px solid var(--border); border-radius:8px;">
                <form onsubmit="startPayment(event)">
                    <h3 style="margin-bottom:20px;">Shipping Details</h3>
                    <div style="display:flex; gap:20px; margin-bottom:15px;">
                        <input type="text" placeholder="First Name" required style="flex:1; padding:12px; border:1px solid var(--border); background:var(--bg-body); color:var(--text-main);">
                        <input type="text" placeholder="Last Name" required style="flex:1; padding:12px; border:1px solid var(--border); background:var(--bg-body); color:var(--text-main);">
                    </div>
                    <input type="text" placeholder="Full Address" required style="width:100%; padding:12px; margin-bottom:15px; border:1px solid var(--border); background:var(--bg-body); color:var(--text-main);">
                    
                    <h3 style="margin:30px 0 15px;">Payment Method</h3>
                    <div class="payment-methods">
                        <div class="pay-card selected" onclick="selectPayment(this)"><span class="pay-text">UPI / GPay</span></div>
                        <div class="pay-card" onclick="selectPayment(this)"><span class="pay-text">Card</span></div>
                        <div class="pay-card" onclick="selectPayment(this)"><span class="pay-text">COD</span></div>
                    </div>

                    <div style="margin-top:30px; border-top:1px solid var(--border); padding-top:20px; text-align:right;">
                        <div style="font-size:1.3rem; font-weight:bold; margin-bottom:15px;">Total to Pay: <span id="checkout-total">‚Çπ0</span></div>
                        <button class="btn" style="width:100%;">Place Order</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="contact" class="page">
        <div class="container" style="text-align:center;">
            <h2 class="section-title">Contact</h2>
            <div style="background:var(--bg-card); padding:30px; display:inline-block; border:1px solid var(--border);">
                <p><strong>Owner:</strong> Kunal</p>
                <p><strong>Email:</strong> kernalrajput1337@gmail.com</p>
                <p><strong>Phone:</strong> +91 7668966389</p>
            </div>
        </div>
    </div>
    
    <div id="about" class="page"><div class="container"><h2>About</h2><p>About Thrift The Future...</p></div></div>

    <script>
        // --- 1. POPULATE WATERMARK ---
        const wmContainer = document.getElementById('watermarkContainer');
        for(let i=0; i<50; i++) {
            const span = document.createElement('span');
            span.className = 'watermark-text';
            span.innerText = "PROTOTYPE";
            wmContainer.appendChild(span);
        }

        // --- 2. DATA (80 PRODUCTS) ---
        // Helper to generate products
        const baseImages = [
            "1591047139829-d91aecb6caea", "1596755094514-f87e34085b2c", "1556905055-8f358a7a47b2", "1624378439575-d8705ad7ae80",
            "1487222477894-8943e31ef7b2", "1521572163474-6864f9cf17ab", "1517445312882-5627b9316371", "1598532163293-84757f54c955",
            "1539533018447-63fcce2678e3", "1626557981101-aae6f84aa6ff", "1572804013309-59a88b7e92f1", "1564257631407-4deb1f99d992",
            "1541099649105-f69ad21f3246", "1434389677669-e08b4cac3105", "1583496661160-fb5886a0aaaa", "1595777457583-95e059d581b8",
            "1591369822096-35c93a18872b", "1582142327373-5b67280c4069", "1584273143981-41c073dfe8f8", "1590874103328-eac38a683ce7"
        ];
        
        const categories = ["Men", "Women", "Shoes", "Accessories"];
        const products = [];

        // Generate 80 products
        for(let i=1; i<=80; i++) {
            const imgId = baseImages[i % baseImages.length];
            const category = categories[i % 4];
            products.push({
                id: i,
                t: `Vintage Item #${i} - ${category}`,
                p: Math.floor(Math.random() * (4000 - 500) + 500), // Random price 500-4000
                c: category,
                i: `https://images.unsplash.com/photo-${imgId}?q=80&w=600&auto=format&fit=crop`
            });
        }

        let cart = [];
        let currentProduct = null;
        let currentPage = 1;
        const itemsPerPage = 15;

        // --- GRID RENDERING & PAGINATION ---
        function renderHomeGrid() {
            // Display first 8 items for home
            const container = document.getElementById('home-grid');
            container.innerHTML = products.slice(0, 8).map(p => createCardHTML(p)).join('');
        }

        function renderShopGrid(page) {
            const container = document.getElementById('shop-grid');
            const start = (page - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageItems = products.slice(start, end);
            
            // Render Items with animation delay for stagger effect
            container.innerHTML = pageItems.map((p, index) => createCardHTML(p, index * 0.05)).join('');
            
            renderPagination(page);
        }

        function createCardHTML(p, delay = 0) {
            return `
                <div class="card" onclick="openProductPage(${p.id})" style="animation-delay: ${delay}s">
                    <div class="card-img"><img src="${p.i}" loading="lazy" alt="${p.t}"></div>
                    <div class="card-info">
                        <div class="card-title">${p.t}</div>
                        <div class="card-price">‚Çπ${p.p}</div>
                    </div>
                </div>
            `;
        }

        function renderPagination(page) {
            const totalPages = Math.ceil(products.length / itemsPerPage);
            const controls = document.getElementById('pagination-controls');
            let html = ``;

            // Prev
            html += `<button class="page-btn" onclick="changePage(${page-1})" ${page===1?'disabled':''}>&lt;</button>`;
            
            // Numbers
            for(let i=1; i<=totalPages; i++) {
                html += `<button class="page-btn ${i===page?'active':''}" onclick="changePage(${i})">${i}</button>`;
            }

            // Next
            html += `<button class="page-btn" onclick="changePage(${page+1})" ${page===totalPages?'disabled':''}>&gt;</button>`;
            
            controls.innerHTML = html;
        }

        function changePage(newPage) {
            currentPage = newPage;
            renderShopGrid(currentPage);
            document.getElementById('shop').scrollIntoView({behavior:'smooth'});
        }

        // Init
        renderHomeGrid();
        renderShopGrid(1);

        // --- PRODUCT PAGE LOGIC ---
        function openProductPage(id) {
            currentProduct = products.find(p => p.id === id);
            
            document.getElementById('pdp-img').src = currentProduct.i;
            document.getElementById('pdp-title').textContent = currentProduct.t;
            document.getElementById('pdp-crumb-title').textContent = currentProduct.t;
            document.getElementById('pdp-price').textContent = '‚Çπ' + currentProduct.p;
            document.getElementById('pdp-qty').textContent = '1';
            
            const desc = `This authentic <strong>${currentProduct.t}</strong> from our collection is a must-have. 
            Thrifted with care, cleaned, and sanitized. Condition: Excellent.`;
            document.getElementById('pdp-desc').innerHTML = desc;

            document.querySelectorAll('.size-box').forEach(b => b.classList.remove('selected'));
            document.querySelectorAll('.size-box')[2].classList.add('selected'); // Default M

            showPage('product-page');
        }

        function selectSize(el) {
            document.querySelectorAll('.size-box').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
        }

        function qtyChange(delta) {
            const el = document.getElementById('pdp-qty');
            let val = parseInt(el.textContent);
            val += delta;
            if(val < 1) val = 1;
            el.textContent = val;
        }

        function addToCartFromPDP() {
            const size = document.querySelector('.size-box.selected').textContent;
            const qty = parseInt(document.getElementById('pdp-qty').textContent);
            cart.push({ ...currentProduct, size, qty });
            updateCart();
            toggleCart();
        }

        // --- CART LOGIC ---
        function updateCart() {
            document.getElementById('count').textContent = cart.length;
            const list = document.getElementById('cart-list');
            let total = 0;
            
            if(!cart.length) {
                list.innerHTML = '<div style="text-align:center; padding:20px; color:#999;">Bag is empty</div>';
            } else {
                list.innerHTML = cart.map((item, i) => {
                    const itemTotal = item.p * item.qty;
                    total += itemTotal;
                    return `
                        <div class="cart-item">
                            <img src="${item.i}" alt="img">
                            <div style="flex:1;">
                                <div style="font-weight:bold; font-size:0.9rem;">${item.t}</div>
                                <div style="font-size:0.8rem; color:#666;">Size: ${item.size} | Qty: ${item.qty}</div>
                                <div style="margin-top:5px;">‚Çπ${item.p}</div>
                            </div>
                            <div onclick="removeItem(${i})" style="color:red; cursor:pointer;">&times;</div>
                        </div>
                    `;
                }).join('');
            }
            
            const totalStr = '‚Çπ' + total.toLocaleString();
            document.getElementById('cart-total').textContent = totalStr;
            document.getElementById('checkout-total').textContent = totalStr;
        }

        function removeItem(i) {
            cart.splice(i, 1);
            updateCart();
        }

        function toggleCart() { document.body.classList.toggle('cart-active'); }

        // --- CHECKOUT & PAYMENT ---
        function goCheckout() {
            if(!cart.length) return alert("Your bag is empty.");
            toggleCart();
            showPage('checkout');
        }

        function selectPayment(el) {
            document.querySelectorAll('.pay-card').forEach(c => c.classList.remove('selected'));
            el.classList.add('selected');
        }

        function startPayment(e) {
            e.preventDefault();
            const overlay = document.getElementById('payOverlay');
            const spinner = document.getElementById('paySpinner');
            const success = document.getElementById('paySuccess');
            const text = document.getElementById('payText');
            
            overlay.style.display = 'flex';
            
            setTimeout(() => {
                spinner.style.display = 'none';
                success.style.display = 'block';
                text.textContent = 'Payment Successful!';
                
                setTimeout(() => {
                    alert("Order Confirmed! Receipt sent to kernalrajput1337@gmail.com");
                    cart = []; updateCart();
                    overlay.style.display = 'none';
                    spinner.style.display = 'block';
                    success.style.display = 'none';
                    text.textContent = 'Processing Payment...';
                    showPage('home');
                }, 1500);
            }, 2000);
        }

        // --- NAV ---
        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo({top:0, behavior:'smooth'});
            document.body.classList.remove('cart-active');
        }

        function toggleTheme() { document.body.classList.toggle('dark-mode'); }
    </script>
</body>
</html>